<!-- version: 2025-10-03 | Hanyang Intercollege FAQ (no copy buttons/icons) | Repackaged with auto-tagging & data fixes -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hanyang Intercollege ì „ê³µì„ íƒ ê´€ë ¨ FAQ</title>
  <meta name="description" content="2025í•™ë²ˆ í•œì–‘ì¸í„°ì¹¼ë¦¬ì§€ ì „ê³µì„ íƒÂ·ì¡¸ì—…ìš”ê±´ ì •ì  FAQ ê²€ìƒ‰ê¸°" />
  <link rel="icon" type="image/png" href="assets/hyuic.png"/>

  <style>
    /* ===== Navy Theme ===== */
    :root{
      --bg:#0a1428; --panel:#0f1b33; --panel-2:#0c172b;
      --muted:#aab7d0; --text:#f1f5ff;
      --brand:#2a4db3; --brand-2:#1b3b91;
      --chip:#122449; --chip-on:#17356e;
      --ok:#3ddc97; --radius:16px;
      --shadow:0 10px 36px rgba(5,10,25,.35);
      --hl: rgba(64,129,255,.25);
    }
    @media (prefers-color-scheme:light){
      :root{
        --bg:#eef2ff; --panel:#ffffff; --panel-2:#f4f7ff;
        --muted:#4b5563; --text:#0b1020;
        --brand:#2a4db3; --brand-2:#203a8c;
        --chip:#eaf0ff; --chip-on:#d8e3ff;
        --shadow:0 10px 26px rgba(15,24,48,.10);
        --hl: rgba(37,99,235,.18);
      }
    }
    *{box-sizing:border-box}
    body{margin:0;font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,sans-serif;background:
      radial-gradient(1000px 420px at 10% -10%, rgba(42,77,179,.25), transparent 60%),
      radial-gradient(900px 380px at 100% 10%, rgba(27,59,145,.20), transparent 60%),
      linear-gradient(180deg, var(--bg), #081024 55%);color:var(--text);}    
    .wrap{max-width:1060px;margin:40px auto;padding:0 20px;}

    /* HERO */
    .hero{display:grid;grid-template-columns:1fr minmax(200px,280px);gap:18px;
      background:linear-gradient(180deg,var(--panel),var(--panel-2) 80%);
      padding:24px;border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.06);}    
    .brandbox{display:flex;align-items:center;gap:16px;flex-wrap:wrap;margin-bottom:6px;}
    .logo{width:160px;height:auto;background:none;border:0;}
    .logo img{width:100%;height:auto;display:block;}
    .hero h1{margin:0;font-size:clamp(22px,3.2vw,34px)}
    .hero p{margin:4px 0 0;color:var(--muted)}
    .hero-illus{display:flex;align-items:center;justify-content:center;border-radius:14px;
      background:radial-gradient(140px 120px at 40% 40%,rgba(126,164,255,.15),transparent 70%);}    
    .hero-illus img{width:100%;max-width:240px;height:auto;object-fit:contain;display:block;
      filter:drop-shadow(0 8px 20px rgba(0,0,0,.3));}

    /* Controls */
    .searchbar{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;}
    .btn{padding:12px 16px;border-radius:12px;border:0;cursor:pointer;
      background:linear-gradient(135deg,var(--brand),var(--brand-2));color:white;font-weight:600;box-shadow:var(--shadow);}    
    .toolbar{margin-top:12px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:var(--chip);
      border:1px solid rgba(255,255,255,.08);color:var(--text);cursor:pointer;font-size:14px;}
    .chip[data-on="true"]{background:var(--chip-on);border-color:rgba(64,129,255,.45)}

    /* List */
    .panel{margin-top:24px;background:var(--panel);border-radius:var(--radius);border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow);}    
    .meta{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border-bottom:1px dashed rgba(255,255,255,.12);color:var(--muted);font-size:14px;}
    .results{padding:10px 14px 6px;}
    .card{border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px;margin:12px 6px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent 60%);}    
    .qline{display:flex;gap:10px;align-items:flex-start;}
    .qline h3{margin:0;font-size:18px;line-height:1.35;cursor:pointer;}
    .badge{font-size:12px;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--brand),var(--brand-2));padding:4px 8px;border-radius:999px;}
    .answer{margin-top:10px;color:var(--text);line-height:1.65}
    .answer .hl{background:transparent;box-shadow:inset 0 -0.35em 0 var(--hl);}    
    .tags{margin-top:10px;display:flex;flex-wrap:wrap;gap:6px}
    .tag{font-size:12px;color:#bcd0ff;background:rgba(22,42,92,.6);padding:4px 8px;border-radius:999px;}
    .footer{margin:20px 0 60px;color:#b1badd;font-size:13px;text-align:center;}

    /* ìˆ¨ê¹€/ë¸”ëŸ¬ + ì•„ì½”ë””ì–¸ */
    .card .reveal{margin-left:auto;font-size:13px;cursor:pointer;color:#7ea4ff;}
    .card .veil{display:none;}
    .card[data-blur="true"] .veil{display:inline-flex;margin-left:auto;font-size:13px;cursor:pointer;color:#7ea4ff;}
    .card[data-collapsed="true"] .answer{max-height:0;overflow:hidden;transition:max-height .25s ease;}

    /* Search Input always white */
    .searchbar input[type="search"]{flex:1;min-width:240px;padding:14px 16px;border-radius:12px;
      background:#fff !important;color:#0b1020 !important;caret-color:#0b1020;
      border:1px solid rgba(0,0,0,.15) !important;}
    .searchbar input[type="search"]::placeholder{color:#6b7280;}
    .searchbar input[type="search"]:focus{border-color:#2a4db3 !important;box-shadow:0 0 0 3px rgba(42,77,179,.25);}  
  </style>
</head>
<body>
  <div class="wrap">
    <section class="hero">
      <div>
        <div class="brandbox">
          <div class="logo"><img src="assets/hyuic.png" alt="Hanyang Intercollege ë¡œê³ "></div>
          <span style="color:#bcd0ff;font-weight:600">ì „ê³µì„ íƒ FAQ</span>
        </div>
        <h1>Hanyang Intercollege ì „ê³µì„ íƒ ê´€ë ¨ FAQ</h1>
        <p>ì „ê³µ ì„ íƒ Â· ë‹¤(ë¶€)ì „ê³µ Â· MSC Â· ì „ê³µê¸°ì´ˆí•„ìˆ˜ Â· í”„ë¡œì íŠ¸ Â· ì¡¸ì—…ìš”ê±´ ë“± í•µì‹¬ ì§ˆì˜ì‘ë‹µì„ ê²€ìƒ‰í•˜ì„¸ìš”.</p>
        <form id="searchForm" class="searchbar">
          <input id="q" type="search" placeholder="ì˜ˆ) ì „ê³µê¸°ì´ˆí•„ìˆ˜, MSC ì „ê³µí•™ì , ì£¼ì „ê³µ ë³€ê²½" autocomplete="off"/>
          <button id="searchBtn" class="btn" type="submit">ê²€ìƒ‰</button>
          <button id="clearBtn" class="btn" type="button">ì§€ìš°ê¸°</button>
          <!-- ë§í¬ ë³µì‚¬ ë²„íŠ¼ ì œê±°ë¨ -->
        </form>
        <div id="tagBar" class="toolbar"></div>
        <div class="toolbar" id="privacyBar">
          <label class="chip"><input id="hideToggle" type="checkbox" style="accent-color:var(--brand);margin-right:6px"/>ë‹µë³€ ìˆ¨ê¹€ ëª¨ë“œ</label>
        </div>
      </div>
      <div class="hero-illus">
        <img src="assets/intercollege-hero.png" alt="Intercollege ìºë¦­í„°">
      </div>
    </section>

    <section class="panel">
      <div class="meta"><div><span id="count">0</span>ê±´ ê²°ê³¼</div><div>ì •í™•ë„ìˆœ</div></div>
      <div id="results" class="results"></div>
    </section>

    <p class="footer">ì¶œì²˜: 2025í•™ë²ˆ í•œì–‘ì¸í„°ì¹¼ë¦¬ì§€ FAQ/ì•ˆë‚´. ìµœì¢… ê¸°ì¤€ì€ í•™êµ ê³µì‹ ê³µì§€ì‚¬í•­ì…ë‹ˆë‹¤.</p>
  </div>

  <script>
    /* =========================
       FAQ ë°ì´í„° (ë¦¬íŒ¨í‚¤ì§•: ë¬¸ë²• ì˜¤ë¥˜ ìˆ˜ì •)
       ========================= */
    $1

    // ===== kw(í‚¤ì›Œë“œ) ì •ë¦¬: ì €ì‹ í˜¸(Stop) í‚¤ì›Œë“œ ì œê±° =====
    const STOP_KW = new Set(["í•„ìˆ˜","ì„ íƒ","ê°€ëŠ¥","ì´ìˆ˜"]);
    faqData.forEach(e=>{
      if(Array.isArray(e.kw)){
        e.kw = e.kw.filter(w => w && !STOP_KW.has(w) && w.length >= 2);
      }
    });


    /* =========================
       í‘œì¤€ íƒœê·¸ ì§‘í•© + ìë™ íƒœê¹… ê·œì¹™ (íƒœê·¸ ìŠ¬ë¦¼í™”)
       ========================= */
    const MAX_TAGS_PER_ITEM = 3; // ì¹´ë“œë‹¹ ìµœëŒ€ íƒœê·¸ ìˆ˜ (í•„ìš”ì‹œ 2~3 ì‚¬ì´ë¡œ ì¡°ì •)
    const TAG_RULES = [
      { tag: '#ì£¼ì „ê³µ',        re: /(ì£¼ì „ê³µ|ììœ ì„ íƒ|ë°°ì •|ë³€ê²½)/i },
      { tag: '#ë‹¤ì „ê³µ',        re: /(ë‹¤ì¤‘ì „ê³µ|ë¶€ì „ê³µ|í”„ë¡œê·¸ë¨ ì „ê³µ|í”„ë¡œê·¸ë¨ ë¶€ì „ê³µ|í”„ë¡œê·¸ë¨ ë‹¤ì¤‘ì „ê³µ)/i },
      { tag: '#í”„ë¡œì íŠ¸',      re: /(í”„ë¡œì íŠ¸|Global Research Immersion|GRI|1í•™ë…„|2í•™ë…„|3í•™ë…„|4í•™ë…„)/i },
      { tag: '#ì „ê³µê¸°ì´ˆí•„ìˆ˜',  re: /(ì „ê³µê¸°ì´ˆí•„ìˆ˜|ê¸°ì´ˆí•„ìˆ˜|ì„ í˜•ëŒ€ìˆ˜|ê³µì—…ìˆ˜í•™|ì „ê³µí•„ìˆ˜)/i },
      { tag: '#MSC',           re: /(MSC|ê¸°ì´ˆê³¼í•™|ë¯¸ë¶„ì ë¶„í•™|ì¼ë°˜í™”í•™|ì¼ë°˜ë¬¼ë¦¬)/i },
      { tag: '#êµì–‘í•„ìˆ˜',      re: /(êµì–‘í•„ìˆ˜|í•µì‹¬êµì–‘|ì‚¬íšŒë´‰ì‚¬|ì»¤ë¦¬ì–´ê°œë°œ2|ê³µí†µ êµìœ¡ê³¼ì •)/i },
      { tag: '#í•™ì ',          re: /(í•™ì |48í•™ì |36í•™ì |24í•™ì |21í•™ì |6í•™ì |100í•™ì |400ë‹¨ìœ„|ì´ ?140í•™ì )/i },
      { tag: '#ì¼ì •',          re: /(ì¼ì •|ê¸°ê°„|ì‹ ì²­ ê¸°ê°„|ì„¤ëª…íšŒ|ì‹¬ì˜|ë°°ì •.*(ì‹œ|ì˜ˆì •)|\b20\d{2}\.?.*\d{1,2}|10ì›”|11ì›”|2026ë…„ 1ì›”)/i },
      { tag: '#ì‹ ì²­ìê²©',      re: /(ì‹ ì²­ ?ìê²©|ëˆ„(ì )?í‰ì |2\.?0|ìê²© ìš”ê±´|ì¬í•™)/i },
      { tag: '#ì¥í•™ê¸ˆ',        re: /(ì¥í•™ê¸ˆ|í”„ë¡œì íŠ¸ ì¥í•™)/i },
      { tag: '#ì¡¸ì—…',          re: /(ì¡¸ì—…|í•™ìœ„|ì¡¸ì—…ì¦ëª…ì„œ|ì¡¸ì—…ìš”ê±´)/i },
      { tag: '#ê±´ì¶•',          re: /(ê±´ì¶•í•™ë¶€|ê±´ì¶•í•™ì¸ì¦|100~300ë‹¨ìœ„|ê±´ì¶•)/i },
    ];

    function _haystack(e){
      const kw = Array.isArray(e.kw) ? e.kw.join(' ') : '';
      return [e.q||'', e.a||'', kw].join(' ');
    }

    function computeTags(entry){
      const text = _haystack(entry);
      const hits = [];
      for (const rule of TAG_RULES){
        if (rule.re.test(text)) hits.push(rule.tag);
      }
      const PRIORITY = ['#ì¼ì •','#ì£¼ì „ê³µ','#ë‹¤ì „ê³µ','#í”„ë¡œì íŠ¸','#ì „ê³µê¸°ì´ˆí•„ìˆ˜','#MSC','#êµì–‘í•„ìˆ˜','#í•™ì ','#ì‹ ì²­ìê²©','#ì¥í•™ê¸ˆ','#ì¡¸ì—…','#ê±´ì¶•'];
      hits.sort((a,b)=> PRIORITY.indexOf(a)-PRIORITY.indexOf(b));
      const uniq = Array.from(new Set(hits));
      return uniq.slice(0, MAX_TAGS_PER_ITEM);
    }

    // ê¸°ì¡´ tags ë®ì–´ì“°ê¸° (í‘œì¤€í™”)
    for (let i=0;i<faqData.length;i++){
      faqData[i] = { ...faqData[i], tags: computeTags(faqData[i]) };
    }

    /* íƒœê·¸ ëª©ë¡ (í‘œì¤€ ì§‘í•© ë‚´ì—ì„œë§Œ ìƒì„±) */
    let allTags = Array.from(new Set(faqData.flatMap(x => x.tags))).sort((a,b)=>a.localeCompare(b,'ko'));

    /* DOM */
    const qInput    = document.getElementById('q');
    const searchForm= document.getElementById('searchForm');
    const clearBtn  = document.getElementById('clearBtn');
    const resultsEl = document.getElementById('results');
    const countEl   = document.getElementById('count');
    const tagBar    = document.getElementById('tagBar');
    const hideToggle= document.getElementById('hideToggle');

    /* ì „ì—­ ìˆ¨ê¹€ ëª¨ë“œ ìƒíƒœ (ë¡œì»¬ ì €ì¥) */
    let HIDE_MODE = JSON.parse(localStorage.getItem('hideAnswers') || 'false');
    if (hideToggle) hideToggle.checked = HIDE_MODE;

    /* íƒœê·¸ ë Œë” */
    const selectedTags = new Set();
    function renderTags(){
      tagBar.innerHTML = '';
      allTags.forEach(tag=>{
        const btn = document.createElement('button');
        btn.className = 'chip'; btn.type='button';
        btn.setAttribute('data-on', selectedTags.has(tag) ? 'true' : 'false');
        btn.textContent = tag;
        btn.addEventListener('click', ()=>{
          if(selectedTags.has(tag)){ selectedTags.delete(tag); btn.setAttribute('data-on','false'); }
          else { selectedTags.add(tag); btn.setAttribute('data-on','true'); }
          update();
        });
        tagBar.appendChild(btn);
      });
    }

    /* ê²€ìƒ‰/ìŠ¤ì½”ì–´ë§ */
    const normalize = s => (s ?? '').toString().toLowerCase().replace(/\s+/g,' ').trim();

    // ë‹¨ì–´ ê²½ê³„ ê¸°ë°˜ ë§¤ì¹­ (í•©ì„±ì–´ ë‚´ë¶€ ë§¤ì¹­ ë°©ì§€)
    function boundaryTest(hay, term){
      if(!term) return false;
      const esc = term.replace(/[.*+?^${}()|[\]\]/g, '\$&');
      const re = new RegExp('(?<![ê°€-í£A-Za-z0-9])' + esc + '(?![ê°€-í£A-Za-z0-9])', 'i');
      return re.test(hay);
    }

    function scoreEntry(entry, query){
      const nq = normalize(query);
      if(!nq && selectedTags.size===0) return 1;
      if(![...selectedTags].every(t => entry.tags.includes(t))) return 0;
      if(!nq) return 1;
      let score = 0;
      const hay = normalize(entry.q + ' ' + entry.a + ' ' + (Array.isArray(entry.kw)?entry.kw.join(' '):''));
      if(boundaryTest(hay, nq)) score += 6; // í•©ì„±ì–´ ë‚´ë¶€ ë§¤ì¹­ ë°©ì§€
      (Array.isArray(entry.kw)?entry.kw:[]).forEach(k=>{
        const nk = normalize(k);
        if(!nk) return;
        if(nk === nq){
          score += 5; // ì™„ì „ ì¼ì¹˜ë§Œ ê°€ì 
        } else if (boundaryTest(hay, nk)) {
          score += 2; // ë‹¨ì–´ ê²½ê³„ ì¼ì¹˜ë§Œ ì†Œí­ ê°€ì 
        }
      });
      nq.split(' ').forEach(tok=>{ if(tok.length>1 && hay.includes(tok)) score += 1; });
      return score;
    }

    function highlight(text, query){
      const nq = normalize(query);
      if(!nq) return text;
      const esc = nq.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      try{ return text.replace(new RegExp(`(${esc})`,'gi'), '<span class="hl">$1</span>'); }
      catch{ return text; }
    }

    /* ë Œë” */
    function render(list, query){
      resultsEl.innerHTML = '';
      if(list.length===0){
        resultsEl.innerHTML = `<div class="empty">ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. ê²€ìƒ‰ì–´ë¥¼ ë°”ê¾¸ê±°ë‚˜ íƒœê·¸ ì„ íƒì„ í™•ì¸í•´ ì£¼ì„¸ìš”.</div>`;
        countEl.textContent = '0';
        return;
      }
      countEl.textContent = String(list.length);

      for(const e of list){
        const card = document.createElement('article');
        card.className = 'card';
        card.id = `q${e.id}`;
        card.setAttribute('data-blur', HIDE_MODE ? 'true' : 'false');
        card.setAttribute('data-collapsed', HIDE_MODE ? 'false' : 'true');

        card.innerHTML = `
          <div class="qline">
            <span class="badge">Q${e.id}</span>
            <h3 class="qtext" style="cursor:pointer" aria-expanded="${HIDE_MODE ? 'true' : 'false'}">${highlight(e.q, query)}</h3>
            <span class="veil" role="button" title="ë‹µë³€ ë³´ê¸°">ğŸ‘ ë³´ê¸°</span>
            <span class="reveal" role="button" title="ì ‘ê¸°/í¼ì¹˜ê¸°">${HIDE_MODE ? '' : 'â–¾ í¼ì¹˜ê¸°'}</span>
          </div>
          <div class="answer" aria-hidden="${HIDE_MODE ? 'false' : 'true'}">${highlight(e.a, query)}</div>
          <div class="tags">${e.tags.map(t=>`<span class="tag">${t}</span>`).join(' ')}</div>
        `;

        const answerEl = card.querySelector('.answer');
        const revealBtn = card.querySelector('.reveal');
        const veilBtn   = card.querySelector('.veil');
        const qtitle    = card.querySelector('.qtext');

        function syncCardView(){
          if (HIDE_MODE){
            card.setAttribute('data-blur','true');
            card.setAttribute('data-collapsed','false');
            answerEl.style.filter = 'blur(6px)';
            answerEl.style.maxHeight = 'none';
            if(revealBtn) revealBtn.style.display = 'none';
            if(veilBtn) veilBtn.style.display   = 'inline-flex';
            qtitle.setAttribute('aria-expanded','true');
            answerEl.setAttribute('aria-hidden','false');
          } else {
            card.setAttribute('data-blur','false');
            if(veilBtn) veilBtn.style.display   = 'none';
            if(revealBtn) revealBtn.style.display = 'inline-flex';
            answerEl.style.filter = 'none';
            const collapsed = card.getAttribute('data-collapsed') === 'true';
            answerEl.style.maxHeight = collapsed ? '0' : 'none';
            if(revealBtn) revealBtn.textContent = collapsed ? 'â–¾ í¼ì¹˜ê¸°' : 'â–´ ì ‘ê¸°';
            qtitle.setAttribute('aria-expanded', collapsed ? 'false' : 'true');
            answerEl.setAttribute('aria-hidden', collapsed ? 'true' : 'false');
          }
        }
        syncCardView();

        function toggleAccordion(){
          if (HIDE_MODE) return;
          const collapsed = card.getAttribute('data-collapsed') === 'true';
          card.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
          syncCardView();
        }
        qtitle.addEventListener('click', toggleAccordion);
        revealBtn?.addEventListener('click', toggleAccordion);

        veilBtn?.addEventListener('click', ()=>{
          answerEl.style.filter = 'none';
          veilBtn.style.display = 'none';
        });

        resultsEl.appendChild(card);
      }
    }

    function search(query){
      return faqData
        .map(e => ({entry:e, score:scoreEntry(e, query)}))
        .filter(r => r.score > 0)
        .sort((a,b)=> b.score - a.score)
        .map(r => r.entry);
    }

    function update(pushState=true){
      const q = qInput.value;
      const list = search(q);
      render(list, q);
      if(pushState){
        const url = new URL(location.href);
        if(q.trim()) url.searchParams.set('q', q.trim()); else url.searchParams.delete('q');
        if(selectedTags.size) url.searchParams.set('tags', [...selectedTags].join(','));
        else url.searchParams.delete('tags');
        if(HIDE_MODE) url.searchParams.set('hide','1'); else url.searchParams.delete('hide');
        history.replaceState(null,'',url.toString());
      }
    }

    /* ì´ˆê¸°í™” & ì´ë²¤íŠ¸ */
    function initFromQuery(){
      const params = new URLSearchParams(location.search);
      const q = params.get('q') || '';
      qInput.value = q;
      const tagQuery = params.get('tags');
      if(tagQuery){ tagQuery.split(',').forEach(t=> selectedTags.add(t)); }
      if(params.get('hide') === '1'){ HIDE_MODE = true; if(hideToggle) hideToggle.checked = true; }
    }

    initFromQuery();
    renderTags();
    update(false);

    searchForm.addEventListener('submit', (e)=>{ e.preventDefault(); update(); });
    qInput.addEventListener('input', ()=> update());
    clearBtn.addEventListener('click', ()=>{
      qInput.value = '';
      selectedTags.clear();
      renderTags();
      update();
    });

    hideToggle?.addEventListener('change', ()=>{
      HIDE_MODE = hideToggle.checked;
      localStorage.setItem('hideAnswers', JSON.stringify(HIDE_MODE));
      update(false);
    });

    // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤: '/' ëˆ„ë¥´ë©´ ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤
    window.addEventListener('keydown', (e)=>{
      if(e.key === '/' && !e.target.matches('input, textarea')){
        e.preventDefault(); qInput.focus();
      }
    });

    if(location.hash){
      const el = document.querySelector(location.hash);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  </script>
</body>
</html>
